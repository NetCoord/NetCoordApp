{"ast":null,"code":"import { firestore } from \"../../firebase\";\nconst getInitialState = () => ({\n  user: null,\n  profile: null\n});\nconst state = getInitialState();\nconst mutations = {\n  SET_VALUE(state, {\n    name,\n    payload\n  }) {\n    state[name] = payload;\n  },\n  UPDATE_PROPERTY(state, {\n    name,\n    payload\n  }) {\n    state[name] = {\n      ...state[name],\n      ...payload\n    };\n  }\n};\nconst actions = {\n  setUser({\n    commit\n  }, payload) {\n    commit(\"SET_VALUE\", {\n      name: \"user\",\n      payload\n    });\n  },\n  async fetchProfile({\n    commit,\n    state\n  }) {\n    const userSnapshot = await firestore.collection(\"users\").doc(state.user.uid).get();\n    const userData = {\n      id: userSnapshot.id,\n      ...userSnapshot.data()\n    };\n    commit(\"SET_VALUE\", {\n      name: \"profile\",\n      payload: userData\n    });\n  }\n};\nconst getters = {\n  isLoggedIn(state) {\n    return !!state.user;\n  }\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};\n\n// \"@vue/cli-plugin-pwa\": \"^4.5.17\",\n// \"firebase\": \"^8.6.1\",","map":{"version":3,"names":["firestore","getInitialState","user","profile","state","mutations","SET_VALUE","name","payload","UPDATE_PROPERTY","actions","setUser","commit","fetchProfile","userSnapshot","collection","doc","uid","get","userData","id","data","getters","isLoggedIn"],"sources":["/Users/sharpie/Desktop/NetCoord Code/Testing/Latest code update/src/store/modules/auth.js"],"sourcesContent":["import { firestore } from \"../../firebase\";\n\nconst getInitialState = () => ({\n  user: null,\n  profile: null,\n});\n\nconst state = getInitialState();\n\nconst mutations = {\n  SET_VALUE(state, { name, payload }) {\n    state[name] = payload;\n  },\n  UPDATE_PROPERTY(state, { name, payload }) {\n    state[name] = { ...state[name], ...payload };\n  },\n};\n\nconst actions = {\n  setUser({ commit }, payload) {\n    commit(\"SET_VALUE\", { name: \"user\", payload });\n  },\n  async fetchProfile({ commit, state }) {\n    const userSnapshot = await firestore\n      .collection(\"users\")\n      .doc(state.user.uid)\n      .get();\n    const userData = {\n      id: userSnapshot.id,\n      ...userSnapshot.data(),\n    };\n    commit(\"SET_VALUE\", { name: \"profile\", payload: userData });\n  },\n};\n\nconst getters = {\n  isLoggedIn(state) {\n    return !!state.user;\n  },\n};\n\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n};\n\n// \"@vue/cli-plugin-pwa\": \"^4.5.17\",\n// \"firebase\": \"^8.6.1\",\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,gBAAgB;AAE1C,MAAMC,eAAe,GAAGA,CAAA,MAAO;EAC7BC,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAGH,eAAe,CAAC,CAAC;AAE/B,MAAMI,SAAS,GAAG;EAChBC,SAASA,CAACF,KAAK,EAAE;IAAEG,IAAI;IAAEC;EAAQ,CAAC,EAAE;IAClCJ,KAAK,CAACG,IAAI,CAAC,GAAGC,OAAO;EACvB,CAAC;EACDC,eAAeA,CAACL,KAAK,EAAE;IAAEG,IAAI;IAAEC;EAAQ,CAAC,EAAE;IACxCJ,KAAK,CAACG,IAAI,CAAC,GAAG;MAAE,GAAGH,KAAK,CAACG,IAAI,CAAC;MAAE,GAAGC;IAAQ,CAAC;EAC9C;AACF,CAAC;AAED,MAAME,OAAO,GAAG;EACdC,OAAOA,CAAC;IAAEC;EAAO,CAAC,EAAEJ,OAAO,EAAE;IAC3BI,MAAM,CAAC,WAAW,EAAE;MAAEL,IAAI,EAAE,MAAM;MAAEC;IAAQ,CAAC,CAAC;EAChD,CAAC;EACD,MAAMK,YAAYA,CAAC;IAAED,MAAM;IAAER;EAAM,CAAC,EAAE;IACpC,MAAMU,YAAY,GAAG,MAAMd,SAAS,CACjCe,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACZ,KAAK,CAACF,IAAI,CAACe,GAAG,CAAC,CACnBC,GAAG,CAAC,CAAC;IACR,MAAMC,QAAQ,GAAG;MACfC,EAAE,EAAEN,YAAY,CAACM,EAAE;MACnB,GAAGN,YAAY,CAACO,IAAI,CAAC;IACvB,CAAC;IACDT,MAAM,CAAC,WAAW,EAAE;MAAEL,IAAI,EAAE,SAAS;MAAEC,OAAO,EAAEW;IAAS,CAAC,CAAC;EAC7D;AACF,CAAC;AAED,MAAMG,OAAO,GAAG;EACdC,UAAUA,CAACnB,KAAK,EAAE;IAChB,OAAO,CAAC,CAACA,KAAK,CAACF,IAAI;EACrB;AACF,CAAC;AAED,eAAe;EACbE,KAAK;EACLC,SAAS;EACTK,OAAO;EACPY;AACF,CAAC;;AAED;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}