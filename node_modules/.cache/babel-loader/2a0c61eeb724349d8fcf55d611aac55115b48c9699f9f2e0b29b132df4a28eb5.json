{"ast":null,"code":"import { mapState } from 'vuex';\nimport { validationMixin } from 'vuelidate';\nimport { required } from 'vuelidate/lib/validators';\nexport default {\n  props: ['clickedNext', 'currentStep'],\n  mixins: [validationMixin],\n  components: {},\n  data() {\n    return {\n      form: {}\n    };\n  },\n  computed: {\n    ...mapState('court', ['courts', 'formCreateEvent']),\n    courtOptions() {\n      return this.courts.data.sort((a, b) => a.name > b.name ? 1 : -1);\n    }\n  },\n  validations: {\n    formCreateEvent: {\n      selectedCourts: {\n        required\n      }\n    }\n  },\n  watch: {\n    $v: {\n      handler: function (val) {\n        if (!val.$invalid) {\n          this.$emit('can-continue', {\n            value: true\n          });\n        } else {\n          this.$emit('can-continue', {\n            value: false\n          });\n        }\n      },\n      deep: true\n    },\n    clickedNext(val) {\n      if (val === true) {\n        this.$v.formCreateEvent.$touch();\n      }\n    }\n  },\n  mounted() {\n    if (!this.$v.$invalid) {\n      this.$emit('can-continue', {\n        value: true\n      });\n    } else {\n      this.$emit('can-continue', {\n        value: false\n      });\n    }\n  },\n  methods: {\n    handleChangeCourtNum(evt, courtId, courtNum) {\n      const checked = evt.target.checked;\n      if (checked) {\n        if (!this.formCreateEvent.selectedCourtNumbers[courtId]) {\n          this.formCreateEvent.selectedCourtNumbers[courtId] = {};\n        }\n        if (!this.formCreateEvent.selectedCourtNumbers[courtId][courtNum]) {\n          this.formCreateEvent.selectedCourtNumbers[courtId][courtNum] = [];\n        }\n      } else {\n        delete this.formCreateEvent.selectedCourtNumbers[courtId][courtNum];\n        if (Object.keys(this.formCreateEvent.selectedCourtNumbers[courtId]).length === 0) {\n          delete this.formCreateEvent.selectedCourtNumbers[courtId];\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","validationMixin","required","props","mixins","components","data","form","computed","courtOptions","courts","sort","a","b","name","validations","formCreateEvent","selectedCourts","watch","$v","handler","val","$invalid","$emit","value","deep","clickedNext","$touch","mounted","methods","handleChangeCourtNum","evt","courtId","courtNum","checked","target","selectedCourtNumbers","Object","keys","length"],"sources":["src/components/events/StepLocation.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"event-type-wrapper\">\n      <h2>Select Park(s)</h2>\n    </div>\n    <div class=\"select-wrapper\">\n      <v-select\n        v-model=\"formCreateEvent.selectedCourts\"\n        multiple\n        label=\"name\"\n        :options=\"courtOptions\"\n      ></v-select>\n    </div>\n    <div v-for=\"selectedCourt in formCreateEvent.selectedCourts\" :key=\"selectedCourt.id\" class=\"court-data\">\n      <h3>{{ selectedCourt.name }}</h3>\n      <div v-if=\"selectedCourt.courtNum\" class=\"court-wrapper\">\n        <div v-for=\"i in selectedCourt.courtNum\" :key=\"i\">\n          <label class=\"checkbox-container\">{{ i }}\n            <input type=\"checkbox\" @change=\"(e) => handleChangeCourtNum(e, selectedCourt.id, i)\">\n            <span class=\"checkmark\"></span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {validationMixin} from 'vuelidate'\nimport {required} from 'vuelidate/lib/validators'\n\nexport default {\n  props: ['clickedNext', 'currentStep'],\n  mixins: [validationMixin],\n  components: { },\n  data() {\n    return {\n      form: {\n        \n      }\n    }\n  },\n  computed: {\n    ...mapState('court', ['courts', 'formCreateEvent']),\n    courtOptions () {\n      return this.courts.data.sort((a, b) => a.name > b.name ? 1 : -1)\n    }\n  },\n  validations: {\n    formCreateEvent: {\n      selectedCourts: {\n        required\n      }\n    }\n  },\n  watch: {\n    $v: {\n      handler: function (val) {\n        if(!val.$invalid) {\n          this.$emit('can-continue', {value: true});\n        } else {\n          this.$emit('can-continue', {value: false});\n        }\n      },\n      deep: true\n    },\n    clickedNext(val) {\n      if(val === true) {\n        this.$v.formCreateEvent.$touch();\n      }\n    }\n  },\n  mounted() {\n    if(!this.$v.$invalid) {\n      this.$emit('can-continue', {value: true});\n    } else {\n      this.$emit('can-continue', {value: false});\n    }\n  },\n  methods: {\n    handleChangeCourtNum (evt, courtId, courtNum) {\n      const checked = evt.target.checked\n\n      if (checked) {\n        if (!this.formCreateEvent.selectedCourtNumbers[courtId]) {\n          this.formCreateEvent.selectedCourtNumbers[courtId] = {}\n        }\n        if (!this.formCreateEvent.selectedCourtNumbers[courtId][courtNum]) {\n            this.formCreateEvent.selectedCourtNumbers[courtId][courtNum] = []\n        }\n      } else {\n        delete this.formCreateEvent.selectedCourtNumbers[courtId][courtNum]\n        if (Object.keys(this.formCreateEvent.selectedCourtNumbers[courtId]).length === 0) {\n          delete this.formCreateEvent.selectedCourtNumbers[courtId]\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../scss/variable\";\n\n.event-type-wrapper {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  h2 {\n    font-size: 1.5em;\n    margin-bottom: 0;\n  }\n\n  & > div {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: center;\n    grid-gap: 0.3rem;\n\n    label {\n      font-size: 1em;\n      font-weight: 600;\n    }\n\n    p {\n      font-size: 0.8em;\n      grid-column: -1/1;\n    }\n  }\n}\n.select-wrapper {\n  & ::v-deep .vs__dropdown-toggle {\n    background: white;\n  }\n}\n\n.court-data {\n  margin-top: 1rem;\n}\n\n.court-wrapper {\n  display: flex;\n  position: relative;\n  margin-top: 0.5rem;\n  flex-wrap: wrap;\n\n  & > div {\n    margin: 0.4rem;\n  }\n}\n\n/* Customize the label (the container) */\n.checkbox-container {\n  display: block;\n  position: relative;\n  padding-left: 35px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  font-size: 22px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Hide the browser's default checkbox */\n.checkbox-container input {\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n}\n\n/* Create a custom checkbox */\n.checkmark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 25px;\n  width: 25px;\n  background-color: #eee;\n}\n\n/* On mouse-over, add a grey background color */\n.checkbox-container:hover input ~ .checkmark {\n  background-color: #ccc;\n}\n\n/* When the checkbox is checked, add a blue background */\n.checkbox-container input:checked ~ .checkmark {\n  background-color: #FF3464;\n}\n\n/* Create the checkmark/indicator (hidden when not checked) */\n.checkmark:after {\n  content: \"\";\n  position: absolute;\n  display: none;\n}\n\n/* Show the checkmark when checked */\n.checkbox-container input:checked ~ .checkmark:after {\n  display: block;\n}\n\n/* Style the checkmark/indicator */\n.checkbox-container .checkmark:after {\n  left: 9px;\n  top: 5px;\n  width: 5px;\n  height: 10px;\n  border: solid white;\n  border-width: 0 3px 3px 0;\n  -webkit-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n</style>\n"],"mappings":"AA4BA,SAAAA,QAAA;AACA,SAAAC,eAAA;AACA,SAAAC,QAAA;AAEA;EACAC,KAAA;EACAC,MAAA,GAAAH,eAAA;EACAI,UAAA;EACAC,KAAA;IACA;MACAC,IAAA,GAEA;IACA;EACA;EACAC,QAAA;IACA,GAAAR,QAAA;IACAS,aAAA;MACA,YAAAC,MAAA,CAAAJ,IAAA,CAAAK,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAD,CAAA,CAAAE,IAAA,GAAAD,CAAA,CAAAC,IAAA;IACA;EACA;EACAC,WAAA;IACAC,eAAA;MACAC,cAAA;QACAf;MACA;IACA;EACA;EACAgB,KAAA;IACAC,EAAA;MACAC,OAAA,WAAAA,CAAAC,GAAA;QACA,KAAAA,GAAA,CAAAC,QAAA;UACA,KAAAC,KAAA;YAAAC,KAAA;UAAA;QACA;UACA,KAAAD,KAAA;YAAAC,KAAA;UAAA;QACA;MACA;MACAC,IAAA;IACA;IACAC,YAAAL,GAAA;MACA,IAAAA,GAAA;QACA,KAAAF,EAAA,CAAAH,eAAA,CAAAW,MAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,UAAAT,EAAA,CAAAG,QAAA;MACA,KAAAC,KAAA;QAAAC,KAAA;MAAA;IACA;MACA,KAAAD,KAAA;QAAAC,KAAA;MAAA;IACA;EACA;EACAK,OAAA;IACAC,qBAAAC,GAAA,EAAAC,OAAA,EAAAC,QAAA;MACA,MAAAC,OAAA,GAAAH,GAAA,CAAAI,MAAA,CAAAD,OAAA;MAEA,IAAAA,OAAA;QACA,UAAAlB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA;UACA,KAAAhB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA;QACA;QACA,UAAAhB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA,EAAAC,QAAA;UACA,KAAAjB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA,EAAAC,QAAA;QACA;MACA;QACA,YAAAjB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA,EAAAC,QAAA;QACA,IAAAI,MAAA,CAAAC,IAAA,MAAAtB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA,GAAAO,MAAA;UACA,YAAAvB,eAAA,CAAAoB,oBAAA,CAAAJ,OAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}